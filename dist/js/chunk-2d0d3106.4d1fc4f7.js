(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3106"],{"5abf":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("EditorUI",t._b({attrs:{id:t.id,comment:t.comment,amend:t.amend,post:t.post,"form-data":t.formData,rules:t.formValidateRules,category:t.categoryWithoutAbout,active:t.active},on:{"update:active":function(e){t.active=e},"on-publish":t.handlePublish,"on-cancel":function(e){t.$emit("on-cancel")}}},"EditorUI",t.formData,!1,!0))},o=[],c=(a("96cf"),a("3b8d")),r=a("a8db"),i=a("7618"),u=a("cebc"),m=a("2f62"),s=a("8927"),d={name:"Editor",props:{id:String,comment:Boolean,amend:Boolean,post:Boolean,amendValue:[Object,Boolean]},components:{EditorUI:function(){return a.e("chunk-139fab46").then(a.bind(null,"9329"))}},data:function(){return{active:!1,formData:{selectedCategory:"",guestName:"",title:"",content:""}}},computed:Object(u["a"])({},Object(m["f"])(["formValidateRules"]),Object(m["d"])("Back",["categoryWithoutAbout"])),watch:{amendValue:function(){this.updateAmendToForm()}},created:function(){var t=this.comment,e=this.post,a=this.categoryWithoutAbout,n=a&&a.length;!t&&e&&n<1&&this.getData({target:"categories"})},methods:Object(u["a"])({},Object(m["c"])(["getData","sendData"]),{updateAmendToForm:function(){var t=this.amendValue;if("object"===Object(i["a"])(t)){var e=t.category,a=Object(r["a"])(t,["category"]);this.formData=Object(u["a"])({},this.formData,{selectedCategory:e},a)}},handlePublish:function(t){var e=this;t.validate(function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(a){var n,o,c,r,i,m,d,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.comment&&e.amend?(r=e.amendValue,o=r.postId,c=r.commentId):e.comment?o=e.$route.params.id:(n=e.formData.selectedCategory,o=e.amendValue.postId||null),!a){t.next=15;break}return i=e.amend,m=e.formData,d=e.$confirm,l=e.comment,t.prev=3,t.next=6,d("确定发表内容？",{title:"确认",confirmButtonText:"发布",cancelButtonText:"返回",center:!0});case 6:return t.next=8,e.sendData(Object(u["a"])({},m,{isAmend:i,category:n,postId:o,commentId:c,callback:Object(s["e"])(e.$router)}));case 8:return t.next=10,e.$nextTick(function(){e.formData={selectedCategory:"",guestName:"",title:"",content:""},l&&!i?e.active=!1:e.$once(e.$emit("on-submit"))});case 10:t.next=15;break;case 12:return t.prev=12,t.t0=t["catch"](3),t.abrupt("return",!1);case 15:case"end":return t.stop()}},t,this,[[3,12]])}));return function(e){return t.apply(this,arguments)}}())}})},l=d,f=a("2877"),b=Object(f["a"])(l,n,o,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0d3106.4d1fc4f7.js.map